@if (IsVisible)
{
    <div class="dialog-overlay visible" @onclick="OnCancelClick">
        <div class="dialog-container" @onclick:stopPropagation="true">
            <div class="dialog-header">
                <h3 class="dialog-title">
                    <span class="warning-icon">⚠️</span>
                    Confirm Deletion
                </h3>
                <button class="dialog-btn-close" @onclick="OnCancelClick" aria-label="Close">&times;</button>
            </div>

            <div class="dialog-body">
                <p class="dialog-message">
                    Are you sure you want to delete
                    <strong class="item-name">@(string.IsNullOrEmpty(ItemName) ? $"this {ItemType}" : ItemName)</strong>?
                </p>
                <p class="warning-text">
                    This action cannot be undone.
                </p>
            </div>

            <div class="dialog-footer">
                <button class="dialog-btn dialog-btn-cancel" @onclick="OnCancelClick">
                    Cancel
                </button>
                <button class="dialog-btn btn-delete" @onclick="OnConfirmClick">
                    Delete @ItemType
                </button>
            </div>
        </div>
    </div>
}

@code {
    [Parameter]
    public bool IsVisible { get; set; }

    [Parameter]
    public string? ItemName { get; set; }

    [Parameter]
    public string ItemType { get; set; } = "task";

    [Parameter]
    public EventCallback OnConfirm { get; set; }

    [Parameter]
    public EventCallback OnCancel { get; set; }

    private async Task OnConfirmClick()
    {
        await OnConfirm.InvokeAsync();
    }

    private async Task OnCancelClick()
    {
        await OnCancel.InvokeAsync();
    }
}
